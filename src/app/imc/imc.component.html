<div class="container">
  <div>
    <h1>IMC</h1>
    <form [formGroup]="fatnessDataForm" (ngSubmit) = "onSubmit()">
      <legend>Calculer votre IMC en complétant le formulaire ci-dessous :</legend>
      <fieldset>
        <div class="mb-3">
          <label for="fullname" class="form-label">Nom :</label>
          <input type="text" id="fullname" name="fullname" formControlName="fullName" class="form-control" placeholder="John Doe" required>
        </div>
        <div class="mb-3">
          <label for="height" class="form-label">Taille (en cm) :</label>
          <input type="number" id="height" name="height" formControlName="height" class="form-control" placeholder="180" required>
        </div>
        <div class="mb-3">
          <label for="weight" class="form-label">Poids (en kg) :</label>
          <input type="number" step="0.1" id="weight" name="weight" formControlName="weight" class="form-control" placeholder="80" required>
        </div>
        <button type="submit" class="btn btn-primary">Calculer IMC</button>
      </fieldset>
    </form>
  </div>
  <ng-container *ngIf="fatnessResult !== undefined" class="container">
    <hr>
    <div class="row">
        <h1>Résultats:</h1>
    </div>
    <div class="row">
        <div class="col">
            <p>Bonjour {{fatnessDataForm.value.fullName}}</p>
            <p>Votre IMC (indice de masse corporelle) est exactement : {{fatnessResult.imc}}</p>
            <p>Vous êtes {{fatnessResult.fatnessType?.frenchDescription}}.</p>
        </div>
        <div class="col">
          <img src="{{fatnessResult.fatnessType?.avatarPath}}" alt="Avatar {{fatnessResult.fatnessType?.frenchDescription}}"/>
        </div>
    </div>
  </ng-container>
</div>